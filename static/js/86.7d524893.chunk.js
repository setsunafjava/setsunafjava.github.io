(window["webpackJsonpfuse-react-app"]=window["webpackJsonpfuse-react-app"]||[]).push([[86],{1048:function(e,t,a){"use strict";var r=a(46),n=a(4),c=a(940);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(a,!0).forEach(function(t){Object(n.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var l={data:[],searchText:""},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.d:return i({},e,{data:t.payload});case c.h:return i({},e,{searchText:t.searchText});default:return e}};function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(a,!0).forEach(function(t){Object(n.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var d={data:null},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.c:case c.f:return m({},e,{data:t.payload});default:return e}};function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(a,!0).forEach(function(t){Object(n.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var b={data:[],searchText:""},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.b:return h({},e,{data:t.payload});case c.g:return h({},e,{searchText:t.searchText});default:return e}};function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(a,!0).forEach(function(t){Object(n.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.a:case c.e:return E({},t.payload);default:return e}},O=Object(r.d)({products:u,product:p,orders:g,order:y});t.a=O},2185:function(e,t,a){"use strict";a.r(t);var r=a(10),n=a(4),c=a(14),o=a(0),i=a.n(o),l=a(122),u=a(883),s=a(892),m=a(915),d=a(909),p=a(889),f=a(882),h=a(356),b=a(862),g=a(13),v=a(128),E=a(28),y=a(3),O=a(8),P=a(7),w=a(168),j=a(940),x=a(1048);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach(function(t){Object(n.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var S=Object(b.a)(function(e){return{productImageFeaturedStar:{position:"absolute",top:0,right:0,color:h.a[400],opacity:0},productImageUpload:{transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut},productImageItem:{transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut,"&:hover":{"& $productImageFeaturedStar":{opacity:.8}},"&.featured":{pointerEvents:"none",boxShadow:e.shadows[3],"& $productImageFeaturedStar":{opacity:1},"&:hover $productImageFeaturedStar":{opacity:1}}}}});t.default=Object(w.a)("eCommerceApp",x.a)(function(e){var t=Object(P.b)(),a=Object(P.c)(function(e){return e.eCommerceApp.product}),n=S(e),h=Object(o.useState)(0),b=Object(c.a)(h,2),w=b[0],x=b[1],C=Object(v.b)(null),N=C.form,T=C.handleChange,D=C.setForm;function R(e,t){D(O.a.set(I({},N),t,e.map(function(e){return e.value})))}return Object(o.useEffect)(function(){!function(){var a=e.match.params.productId;t("new"===a?j.m():j.k(e.match.params))}()},[t,e.match.params]),Object(o.useEffect)(function(){(a.data&&!N||a.data&&N&&a.data.id!==N.id)&&D(a.data)},[N,a.data,D]),i.a.createElement(g.s,{classes:{toolbar:"p-0",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:N&&i.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},i.a.createElement("div",{className:"flex flex-col items-start max-w-full"},i.a.createElement(g.d,{animation:"transition.slideRightIn",delay:300},i.a.createElement(l.a,{className:"normal-case flex items-center sm:mb-12",component:E.a,role:"button",to:"/apps/e-commerce/products",color:"inherit"},i.a.createElement(u.a,{className:"mr-4 text-20"},"arrow_back"),"Products")),i.a.createElement("div",{className:"flex items-center max-w-full"},i.a.createElement(g.d,{animation:"transition.expandIn",delay:300},N.images.length>0&&N.featuredImageId?i.a.createElement("img",{className:"w-32 sm:w-48 mr-8 sm:mr-16 rounded",src:O.a.find(N.images,{id:N.featuredImageId}).url,alt:N.name}):i.a.createElement("img",{className:"w-32 sm:w-48 mr-8 sm:mr-16 rounded",src:"assets/images/ecommerce/product-image-placeholder.png",alt:N.name})),i.a.createElement("div",{className:"flex flex-col min-w-0"},i.a.createElement(g.d,{animation:"transition.slideLeftIn",delay:300},i.a.createElement(l.a,{className:"text-16 sm:text-20 truncate"},N.name?N.name:"New Product")),i.a.createElement(g.d,{animation:"transition.slideLeftIn",delay:300},i.a.createElement(l.a,{variant:"caption"},"Product Detail"))))),i.a.createElement(g.d,{animation:"transition.slideRightIn",delay:300},i.a.createElement(s.a,{className:"whitespace-no-wrap",variant:"contained",disabled:!(N.name.length>0&&!O.a.isEqual(a.data,N)),onClick:function(){return t(j.n(N))}},"Save"))),contentToolbar:i.a.createElement(m.a,{value:w,onChange:function(e,t){x(t)},indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"auto",classes:{root:"w-full h-64"}},i.a.createElement(d.a,{className:"h-64 normal-case",label:"Basic Info"}),i.a.createElement(d.a,{className:"h-64 normal-case",label:"Product Images"}),i.a.createElement(d.a,{className:"h-64 normal-case",label:"Pricing"}),i.a.createElement(d.a,{className:"h-64 normal-case",label:"Inventory"}),i.a.createElement(d.a,{className:"h-64 normal-case",label:"Shipping"})),content:N&&i.a.createElement("div",{className:"p-16 sm:p-24 max-w-2xl"},0===w&&i.a.createElement("div",null,i.a.createElement(p.a,{className:"mt-8 mb-16",error:""===N.name,required:!0,label:"Name",autoFocus:!0,id:"name",name:"name",value:N.name,onChange:T,variant:"outlined",fullWidth:!0}),i.a.createElement(p.a,{className:"mt-8 mb-16",id:"description",name:"description",onChange:T,label:"Description",type:"text",value:N.description,multiline:!0,rows:5,variant:"outlined",fullWidth:!0}),i.a.createElement(g.g,{className:"mt-8 mb-24",value:N.categories.map(function(e){return{value:e,label:e}}),onChange:function(e){return R(e,"categories")},placeholder:"Select multiple categories",textFieldProps:{label:"Categories",InputLabelProps:{shrink:!0},variant:"outlined"},isMulti:!0}),i.a.createElement(g.g,{className:"mt-8 mb-16",value:N.tags.map(function(e){return{value:e,label:e}}),onChange:function(e){return R(e,"tags")},placeholder:"Select multiple tags",textFieldProps:{label:"Tags",InputLabelProps:{shrink:!0},variant:"outlined"},isMulti:!0})),1===w&&i.a.createElement("div",null,i.a.createElement("input",{accept:"image/*",className:"hidden",id:"button-file",type:"file",onChange:function(e){var t=e.target.files[0];if(t){var a=new FileReader;a.readAsBinaryString(t),a.onload=function(){D(O.a.set(I({},N),"images",[{id:g.C.generateGUID(),url:"data:".concat(t.type,";base64,").concat(btoa(a.result)),type:"image"}].concat(Object(r.a)(N.images))))},a.onerror=function(){console.log("error on load image")}}}}),i.a.createElement("div",{className:"flex justify-center sm:justify-start flex-wrap"},i.a.createElement("label",{htmlFor:"button-file",className:Object(y.a)(n.productImageUpload,"flex items-center justify-center relative w-128 h-128 rounded-4 mr-16 mb-16 overflow-hidden cursor-pointer shadow-1 hover:shadow-5")},i.a.createElement(u.a,{fontSize:"large",color:"action"},"cloud_upload")),N.images.map(function(e){return i.a.createElement("div",{onClick:function(){return t=e.id,void D(O.a.set(I({},N),"featuredImageId",t));var t},className:Object(y.a)(n.productImageItem,"flex items-center justify-center relative w-128 h-128 rounded-4 mr-16 mb-16 overflow-hidden cursor-pointer shadow-1 hover:shadow-5",e.id===N.featuredImageId&&"featured"),key:e.id},i.a.createElement(u.a,{className:n.productImageFeaturedStar},"star"),i.a.createElement("img",{className:"max-w-none w-auto h-full",src:e.url,alt:"product"}))}))),2===w&&i.a.createElement("div",null,i.a.createElement(p.a,{className:"mt-8 mb-16",label:"Tax Excluded Price",id:"priceTaxExcl",name:"priceTaxExcl",value:N.priceTaxExcl,onChange:T,InputProps:{startAdornment:i.a.createElement(f.a,{position:"start"},"$")},type:"number",variant:"outlined",autoFocus:!0,fullWidth:!0}),i.a.createElement(p.a,{className:"mt-8 mb-16",label:"Tax Included Price",id:"priceTaxIncl",name:"priceTaxIncl",value:N.priceTaxIncl,onChange:T,InputProps:{startAdornment:i.a.createElement(f.a,{position:"start"},"$")},type:"number",variant:"outlined",fullWidth:!0}),i.a.createElement(p.a,{className:"mt-8 mb-16",label:"Tax Rate",id:"taxRate",name:"taxRate",value:N.taxRate,onChange:T,InputProps:{startAdornment:i.a.createElement(f.a,{position:"start"},"$")},type:"number",variant:"outlined",fullWidth:!0}),i.a.createElement(p.a,{className:"mt-8 mb-16",label:"Compared Price",id:"comparedPrice",name:"comparedPrice",value:N.comparedPrice,onChange:T,InputProps:{startAdornment:i.a.createElement(f.a,{position:"start"},"$")},type:"number",variant:"outlined",fullWidth:!0,helperText:"Add a compare price to show next to the real price"})),3===w&&i.a.createElement("div",null,i.a.createElement(p.a,{className:"mt-8 mb-16",required:!0,label:"SKU",autoFocus:!0,id:"sku",name:"sku",value:N.sku,onChange:T,variant:"outlined",fullWidth:!0}),i.a.createElement(p.a,{className:"mt-8 mb-16",label:"Quantity",id:"quantity",name:"quantity",value:N.quantity,onChange:T,variant:"outlined",type:"number",fullWidth:!0})),4===w&&i.a.createElement("div",null,i.a.createElement("div",{className:"flex"},i.a.createElement(p.a,{className:"mt-8 mb-16 mr-8",label:"Width",autoFocus:!0,id:"width",name:"width",value:N.width,onChange:T,variant:"outlined",fullWidth:!0}),i.a.createElement(p.a,{className:"mt-8 mb-16 mr-8",label:"Height",id:"height",name:"height",value:N.height,onChange:T,variant:"outlined",fullWidth:!0}),i.a.createElement(p.a,{className:"mt-8 mb-16 mr-8",label:"Depth",id:"depth",name:"depth",value:N.depth,onChange:T,variant:"outlined",fullWidth:!0})),i.a.createElement(p.a,{className:"mt-8 mb-16",label:"Weight",id:"weight",name:"weight",value:N.weight,onChange:T,variant:"outlined",fullWidth:!0}),i.a.createElement(p.a,{className:"mt-8 mb-16",label:"Extra Shipping Fee",id:"extraShippingFee",name:"extraShippingFee",value:N.extraShippingFee,onChange:T,variant:"outlined",InputProps:{startAdornment:i.a.createElement(f.a,{position:"start"},"$")},fullWidth:!0}))),innerScroll:!0})})},940:function(e,t,a){"use strict";var r=a(42),n=a.n(r),c="[E-COMMERCE APP] GET PRODUCTS",o="[E-COMMERCE APP] SET PRODUCTS SEARCH TEXT";function i(){var e=n.a.get("/api/e-commerce-app/products");return function(t){return e.then(function(e){return t({type:c,payload:e.data})})}}function l(e){return{type:o,searchText:e.target.value}}var u=a(13),s=a(37),m="[E-COMMERCE APP] GET PRODUCT",d="[E-COMMERCE APP] SAVE PRODUCT";function p(e){var t=n.a.get("/api/e-commerce-app/product",{params:e});return function(e){return t.then(function(t){return e({type:m,payload:t.data})})}}function f(e){var t=n.a.post("/api/e-commerce-app/product/save",e);return function(e){return t.then(function(t){return e(Object(s.H)({message:"Product Saved"})),e({type:d,payload:t.data})})}}function h(){var e={id:u.C.generateGUID(),name:"",handle:"",description:"",categories:[],tags:[],images:[],priceTaxExcl:0,priceTaxIncl:0,taxRate:0,comparedPrice:0,quantity:0,sku:"",width:"",height:"",depth:"",weight:"",extraShippingFee:0,active:!0};return{type:m,payload:e}}var b="[E-COMMERCE APP] GET ORDERS",g="[E-COMMERCE APP] SET ORDERS SEARCH TEXT";function v(){var e=n.a.get("/api/e-commerce-app/orders");return function(t){return e.then(function(e){return t({type:b,payload:e.data})})}}function E(e){return{type:g,searchText:e.target.value}}var y="[E-COMMERCE APP] GET ORDER",O="[E-COMMERCE APP] SAVE ORDER";function P(e){var t=n.a.get("/api/e-commerce-app/order",{params:e});return function(e){return t.then(function(t){return e({type:y,payload:t.data})})}}a.d(t,"d",function(){return c}),a.d(t,"h",function(){return o}),a.d(t,"l",function(){return i}),a.d(t,"p",function(){return l}),a.d(t,"c",function(){return m}),a.d(t,"f",function(){return d}),a.d(t,"k",function(){return p}),a.d(t,"n",function(){return f}),a.d(t,"m",function(){return h}),a.d(t,"b",function(){return b}),a.d(t,"g",function(){return g}),a.d(t,"j",function(){return v}),a.d(t,"o",function(){return E}),a.d(t,"a",function(){return y}),a.d(t,"e",function(){return O}),a.d(t,"i",function(){return P})}}]);