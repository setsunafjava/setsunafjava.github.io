(window["webpackJsonpfuse-react-app"]=window["webpackJsonpfuse-react-app"]||[]).push([[87],{1048:function(e,t,n){"use strict";var a=n(46),r=n(4),c=n(940);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l={data:[],searchText:""},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.d:return i({},e,{data:t.payload});case c.h:return i({},e,{searchText:t.searchText});default:return e}};function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p={data:null},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.c:case c.f:return d({},e,{data:t.payload});default:return e}};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var b={data:[],searchText:""},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.b:return g({},e,{data:t.payload});case c.g:return g({},e,{searchText:t.searchText});default:return e}};function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.a:case c.e:return E({},t.payload);default:return e}},v=Object(a.d)({products:u,product:m,orders:h,order:y});t.a=v},2327:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),o=n(168),i=n(14),l=n(1e3),u=n(1004),s=n(1002),d=n(1003),p=n(894),m=n(883),f=n(1161),g=n(72),b=n(3),h=n(8),O=n(1001),E=n(462),y=n(307),v=n(475),P=n(884),j=n(910),w=n(886),x=n(888),C=n(1160),S=n(862),k=[{id:"image",align:"left",disablePadding:!0,label:"",sort:!1},{id:"name",align:"left",disablePadding:!1,label:"Name",sort:!0},{id:"categories",align:"left",disablePadding:!1,label:"Category",sort:!0},{id:"priceTaxIncl",align:"right",disablePadding:!1,label:"Price",sort:!0},{id:"quantity",align:"right",disablePadding:!1,label:"Quantity",sort:!0},{id:"active",align:"right",disablePadding:!1,label:"Active",sort:!0}],N=Object(S.a)(function(e){return{actionsButtonWrapper:{background:e.palette.background.paper}}});var T=function(e){var t=N(e),n=Object(a.useState)(null),c=Object(i.a)(n,2),o=c[0],l=c[1];function u(){l(null)}return r.a.createElement(O.a,null,r.a.createElement(s.a,{className:"h-64"},r.a.createElement(d.a,{padding:"checkbox",className:"relative pl-4 sm:pl-12"},r.a.createElement(p.a,{indeterminate:e.numSelected>0&&e.numSelected<e.rowCount,checked:e.numSelected===e.rowCount,onChange:e.onSelectAllClick}),e.numSelected>0&&r.a.createElement("div",{className:Object(b.a)("flex items-center justify-center absolute w-64 top-0 left-0 ml-68 h-64 z-10",t.actionsButtonWrapper)},r.a.createElement(E.a,{"aria-owns":o?"selectedProductsMenu":null,"aria-haspopup":"true",onClick:function(e){l(e.currentTarget)}},r.a.createElement(m.a,null,"more_horiz")),r.a.createElement(y.a,{id:"selectedProductsMenu",anchorEl:o,open:Boolean(o),onClose:u},r.a.createElement(v.a,null,r.a.createElement(P.a,{onClick:function(){u()}},r.a.createElement(j.a,{className:"min-w-40"},r.a.createElement(m.a,null,"delete")),r.a.createElement(w.a,{primary:"Remove"})))))),k.map(function(t){return r.a.createElement(d.a,{key:t.id,align:t.align,padding:t.disablePadding?"none":"default",sortDirection:e.order.id===t.id&&e.order.direction},t.sort&&r.a.createElement(x.a,{title:"Sort",placement:"right"===t.align?"bottom-end":"bottom-start",enterDelay:300},r.a.createElement(C.a,{active:e.order.id===t.id,direction:e.order.direction,onClick:(n=t.id,function(t){e.onRequestSort(t,n)})},t.label)));var n},this)))},D=n(940),R=n(7);var A=Object(g.h)(function(e){var t=Object(R.b)(),n=Object(R.c)(function(e){return e.eCommerceApp.products.data}),o=Object(R.c)(function(e){return e.eCommerceApp.products.searchText}),g=Object(a.useState)([]),O=Object(i.a)(g,2),E=O[0],y=O[1],v=Object(a.useState)(n),P=Object(i.a)(v,2),j=P[0],w=P[1],x=Object(a.useState)(0),C=Object(i.a)(x,2),S=C[0],k=C[1],N=Object(a.useState)(10),A=Object(i.a)(N,2),M=A[0],I=A[1],q=Object(a.useState)({direction:"asc",id:null}),B=Object(i.a)(q,2),U=B[0],G=B[1];return Object(a.useEffect)(function(){t(D.l())},[t]),Object(a.useEffect)(function(){w(0===o.length?n:h.a.filter(n,function(e){return e.name.toLowerCase().includes(o.toLowerCase())}))},[n,o]),r.a.createElement("div",{className:"w-full flex flex-col"},r.a.createElement(c.u,{className:"flex-grow overflow-x-auto"},r.a.createElement(l.a,{className:"min-w-xl","aria-labelledby":"tableTitle"},r.a.createElement(T,{numSelected:E.length,order:U,onSelectAllClick:function(e){e.target.checked?y(j.map(function(e){return e.id})):y([])},onRequestSort:function(e,t){var n=t,a="desc";U.id===t&&"desc"===U.direction&&(a="asc"),G({direction:a,id:n})},rowCount:j.length}),r.a.createElement(u.a,null,h.a.orderBy(j,[function(e){switch(U.id){case"categories":return e.categories[0];default:return e[U.id]}}],[U.direction]).slice(S*M,S*M+M).map(function(t){var n=-1!==E.indexOf(t.id);return r.a.createElement(s.a,{className:"h-64 cursor-pointer",hover:!0,role:"checkbox","aria-checked":n,tabIndex:-1,key:t.id,selected:n,onClick:function(n){return a=t,void e.history.push("/apps/e-commerce/products/"+a.id+"/"+a.handle);var a}},r.a.createElement(d.a,{className:"w-48 px-4 sm:px-12",padding:"checkbox"},r.a.createElement(p.a,{checked:n,onClick:function(e){return e.stopPropagation()},onChange:function(e){return function(e,t){var n=E.indexOf(t),a=[];-1===n?a=a.concat(E,t):0===n?a=a.concat(E.slice(1)):n===E.length-1?a=a.concat(E.slice(0,-1)):n>0&&(a=a.concat(E.slice(0,n),E.slice(n+1))),y(a)}(0,t.id)}})),r.a.createElement(d.a,{className:"w-52",component:"th",scope:"row",padding:"none"},t.images.length>0&&t.featuredImageId?r.a.createElement("img",{className:"w-full block rounded",src:h.a.find(t.images,{id:t.featuredImageId}).url,alt:t.name}):r.a.createElement("img",{className:"w-full block rounded",src:"assets/images/ecommerce/product-image-placeholder.png",alt:t.name})),r.a.createElement(d.a,{component:"th",scope:"row"},t.name),r.a.createElement(d.a,{className:"truncate",component:"th",scope:"row"},t.categories.join(", ")),r.a.createElement(d.a,{component:"th",scope:"row",align:"right"},r.a.createElement("span",null,"$"),t.priceTaxIncl),r.a.createElement(d.a,{component:"th",scope:"row",align:"right"},t.quantity,r.a.createElement("i",{className:Object(b.a)("inline-block w-8 h-8 rounded ml-8",t.quantity<=5&&"bg-red",t.quantity>5&&t.quantity<=25&&"bg-orange",t.quantity>25&&"bg-green")})),r.a.createElement(d.a,{component:"th",scope:"row",align:"right"},t.active?r.a.createElement(m.a,{className:"text-green text-20"},"check_circle"):r.a.createElement(m.a,{className:"text-red text-20"},"remove_circle")))})))),r.a.createElement(f.a,{component:"div",count:j.length,rowsPerPage:M,page:S,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:function(e,t){k(t)},onChangeRowsPerPage:function(e){I(e.target.value)}}))}),M=n(122),I=n(140),q=n(309),B=n(892),U=n(924),G=n(28);var _=function(e){var t=Object(R.b)(),n=Object(R.c)(function(e){return e.eCommerceApp.products.searchText}),a=Object(R.c)(function(e){return e.fuse.settings.mainTheme});return r.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement(c.d,{animation:"transition.expandIn",delay:300},r.a.createElement(m.a,{className:"text-32 mr-0 sm:mr-12"},"shopping_basket")),r.a.createElement(c.d,{animation:"transition.slideLeftIn",delay:300},r.a.createElement(M.a,{className:"hidden sm:flex",variant:"h6"},"Products"))),r.a.createElement("div",{className:"flex flex-1 items-center justify-center px-12"},r.a.createElement(U.a,{theme:a},r.a.createElement(c.d,{animation:"transition.slideDownIn",delay:300},r.a.createElement(I.a,{className:"flex items-center w-full max-w-512 px-8 py-4 rounded-8",elevation:1},r.a.createElement(m.a,{className:"mr-8",color:"action"},"search"),r.a.createElement(q.a,{placeholder:"Search",className:"flex flex-1",disableUnderline:!0,fullWidth:!0,value:n,inputProps:{"aria-label":"Search"},onChange:function(e){return t(D.p(e))}}))))),r.a.createElement(c.d,{animation:"transition.slideRightIn",delay:300},r.a.createElement(B.a,{component:G.b,to:"/apps/e-commerce/products/new",className:"whitespace-no-wrap",variant:"contained"},r.a.createElement("span",{className:"hidden sm:flex"},"Add New Product"),r.a.createElement("span",{className:"flex sm:hidden"},"New"))))},H=n(1048);t.default=Object(o.a)("eCommerceApp",H.a)(function(){return r.a.createElement(c.s,{classes:{content:"flex",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:r.a.createElement(_,null),content:r.a.createElement(A,null),innerScroll:!0})})},940:function(e,t,n){"use strict";var a=n(42),r=n.n(a),c="[E-COMMERCE APP] GET PRODUCTS",o="[E-COMMERCE APP] SET PRODUCTS SEARCH TEXT";function i(){var e=r.a.get("/api/e-commerce-app/products");return function(t){return e.then(function(e){return t({type:c,payload:e.data})})}}function l(e){return{type:o,searchText:e.target.value}}var u=n(13),s=n(37),d="[E-COMMERCE APP] GET PRODUCT",p="[E-COMMERCE APP] SAVE PRODUCT";function m(e){var t=r.a.get("/api/e-commerce-app/product",{params:e});return function(e){return t.then(function(t){return e({type:d,payload:t.data})})}}function f(e){var t=r.a.post("/api/e-commerce-app/product/save",e);return function(e){return t.then(function(t){return e(Object(s.H)({message:"Product Saved"})),e({type:p,payload:t.data})})}}function g(){var e={id:u.C.generateGUID(),name:"",handle:"",description:"",categories:[],tags:[],images:[],priceTaxExcl:0,priceTaxIncl:0,taxRate:0,comparedPrice:0,quantity:0,sku:"",width:"",height:"",depth:"",weight:"",extraShippingFee:0,active:!0};return{type:d,payload:e}}var b="[E-COMMERCE APP] GET ORDERS",h="[E-COMMERCE APP] SET ORDERS SEARCH TEXT";function O(){var e=r.a.get("/api/e-commerce-app/orders");return function(t){return e.then(function(e){return t({type:b,payload:e.data})})}}function E(e){return{type:h,searchText:e.target.value}}var y="[E-COMMERCE APP] GET ORDER",v="[E-COMMERCE APP] SAVE ORDER";function P(e){var t=r.a.get("/api/e-commerce-app/order",{params:e});return function(e){return t.then(function(t){return e({type:y,payload:t.data})})}}n.d(t,"d",function(){return c}),n.d(t,"h",function(){return o}),n.d(t,"l",function(){return i}),n.d(t,"p",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"f",function(){return p}),n.d(t,"k",function(){return m}),n.d(t,"n",function(){return f}),n.d(t,"m",function(){return g}),n.d(t,"b",function(){return b}),n.d(t,"g",function(){return h}),n.d(t,"j",function(){return O}),n.d(t,"o",function(){return E}),n.d(t,"a",function(){return y}),n.d(t,"e",function(){return v}),n.d(t,"i",function(){return P})}}]);