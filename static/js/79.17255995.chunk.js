(window["webpackJsonpfuse-react-app"]=window["webpackJsonpfuse-react-app"]||[]).push([[79],{1270:function(e,t){e.exports=m,e.exports.parse=r,e.exports.compile=function(e,t){return l(r(e,t),t)},e.exports.tokensToFunction=l,e.exports.tokensToRegExp=s;var a="/",n=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function r(e,t){for(var r,l=[],o=0,s=0,m="",u=t&&t.delimiter||a,p=t&&t.whitelist||void 0,f=!1;null!==(r=n.exec(e));){var d=r[0],b=r[1],E=r.index;if(m+=e.slice(s,E),s=E+d.length,b)m+=b[1],f=!0;else{var v="",h=r[2],y=r[3],g=r[4],O=r[5];if(!f&&m.length){var j=m.length-1,x=m[j];(!p||p.indexOf(x)>-1)&&(v=x,m=m.slice(0,j))}m&&(l.push(m),m="",f=!1);var w="+"===O||"*"===O,N="?"===O||"*"===O,A=y||g,P=v||u;l.push({name:h||o++,prefix:v,delimiter:P,optional:N,repeat:w,pattern:A?i(A):"[^"+c(P===u?P:P+u)+"]+?"})}}return(m||s<e.length)&&l.push(m+e.substr(s)),l}function l(e,t){for(var a=new Array(e.length),n=0;n<e.length;n++)"object"===typeof e[n]&&(a[n]=new RegExp("^(?:"+e[n].pattern+")$",o(t)));return function(t,n){for(var r="",l=n&&n.encode||encodeURIComponent,c=!n||!1!==n.validate,i=0;i<e.length;i++){var o=e[i];if("string"!==typeof o){var s,m=t?t[o.name]:void 0;if(Array.isArray(m)){if(!o.repeat)throw new TypeError('Expected "'+o.name+'" to not repeat, but got array');if(0===m.length){if(o.optional)continue;throw new TypeError('Expected "'+o.name+'" to not be empty')}for(var u=0;u<m.length;u++){if(s=l(m[u],o),c&&!a[i].test(s))throw new TypeError('Expected all "'+o.name+'" to match "'+o.pattern+'"');r+=(0===u?o.prefix:o.delimiter)+s}}else if("string"!==typeof m&&"number"!==typeof m&&"boolean"!==typeof m){if(!o.optional)throw new TypeError('Expected "'+o.name+'" to be '+(o.repeat?"an array":"a string"))}else{if(s=l(String(m),o),c&&!a[i].test(s))throw new TypeError('Expected "'+o.name+'" to match "'+o.pattern+'", but got "'+s+'"');r+=o.prefix+s}}else r+=o}return r}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function i(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function o(e){return e&&e.sensitive?"":"i"}function s(e,t,n){for(var r=(n=n||{}).strict,l=!1!==n.start,i=!1!==n.end,s=n.delimiter||a,m=[].concat(n.endsWith||[]).map(c).concat("$").join("|"),u=l?"^":"",p=0;p<e.length;p++){var f=e[p];if("string"===typeof f)u+=c(f);else{var d=f.repeat?"(?:"+f.pattern+")(?:"+c(f.delimiter)+"(?:"+f.pattern+"))*":f.pattern;t&&t.push(f),f.optional?f.prefix?u+="(?:"+c(f.prefix)+"("+d+"))?":u+="("+d+")?":u+=c(f.prefix)+"("+d+")"}}if(i)r||(u+="(?:"+c(s)+")?"),u+="$"===m?"$":"(?="+m+")";else{var b=e[e.length-1],E="string"===typeof b?b[b.length-1]===s:void 0===b;r||(u+="(?:"+c(s)+"(?="+m+"))?"),E||(u+="(?="+c(s)+"|"+m+")")}return new RegExp(u,o(n))}function m(e,t,a){return e instanceof RegExp?function(e,t){if(!t)return e;var a=e.source.match(/\((?!\?)/g);if(a)for(var n=0;n<a.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return e}(e,t):Array.isArray(e)?function(e,t,a){for(var n=[],r=0;r<e.length;r++)n.push(m(e[r],t,a).source);return new RegExp("(?:"+n.join("|")+")",o(a))}(e,t,a):function(e,t,a){return s(r(e,a),t,a)}(e,t,a)}},2317:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(13),c=a(7),i=a(168),o=a(14),s=a(122),m=a(476),u=a(72),p=a(42),f=a.n(p),d="[MAIL APP] GET MAILS",b="[MAIL APP] UPDATE MAILS",E="[MAILS] SELECT ALL MAILS",v="[MAILS] DESELECT ALL MAILS",h="[MAILS] TOGGLE IN SELECTED MAILS",y="[MAILS] SELECT MAILS BY PARAMETER",g="[MAILS] SET FOLDER ON SELECTED MAILS",O="[MAILS] TOGGLE LABEL ON SELECTED MAILS",j="[MAILS] SET SEARCH TEXT";function x(){return function(e,t){var a=t().mailApp.mails.routeParams;return f.a.get("/api/mail-app/mails",{params:a}).then(function(t){return e({type:b,payload:t.data})})}}function w(){return{type:E}}function N(){return{type:v}}function A(e,t){return{type:y,payload:{parameter:e,value:t}}}function P(e){return function(t,a){var n=a().mailApp.mails.selectedMailIds;return f.a.post("/api/mail-app/set-folder",{selectedMailIds:n,folderId:e}).then(function(e){return t({type:g}),t(x())})}}var S=a(4);function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(a,!0).forEach(function(t){Object(S.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var L="[MAIL APP] GET MAIL",C="[MAIL APP] UPDATE MAIL",M="[MAIL APP] TOGGLE STAR MAIL",T="[MAIL APP] TOGGLE IMPORTANT MAIL";function D(e){var t=f.a.post("/api/mail-app/update-mail",e);return function(e){return t.then(function(t){return e({type:C,payload:t.data})})}}var R="[MAIL APP] GET FOLDERS";var B="[MAIL APP] GET LABELS";var G="[MAIL APP] GET FILTERS";var U=a(477),W=a(894),F=a(470),z=a(862),_=a(3),$=a(8),H=Object(z.a)(function(e){return{root:{display:"flex",alignItems:"center",height:21,borderRadius:2,padding:"0 6px",fontSize:11,backgroundColor:"rgba(0,0,0,.08);"},color:{width:8,height:8,marginRight:4,borderRadius:"50%"}}});var J=function(e){var t=H();return r.a.createElement("div",{className:Object(_.a)(t.root,e.className)},r.a.createElement("div",{className:t.color,style:{backgroundColor:e.color}}),r.a.createElement("div",null,e.title))};function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var Y=a(1270),q=Object(z.a)(function(e){return{mailItem:{borderBottom:"1px solid  "+e.palette.divider,"&.unread":{background:"rgba(0,0,0,0.03)"},"&.selected":{"&::after":{content:'""',position:"absolute",left:0,display:"block",height:"100%",width:3,backgroundColor:e.palette.primary.main}}},avatar:{backgroundColor:e.palette.primary[500]}}}),X=Object(u.h)(function(e){var t=Object(c.b)(),a=Object(c.c)(function(e){return e.mailApp.mails.selectedMailIds}),n=Object(c.c)(function(e){return e.mailApp.labels}),l=q(e),i=Y.compile(e.match.path),o=a.length>0&&void 0!==a.find(function(t){return t===e.mail.id});return r.a.createElement(U.a,{dense:!0,button:!0,onClick:function(){return e.history.push(i(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(a,!0).forEach(function(t){Object(S.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e.match.params,{mailId:e.mail.id})))},className:Object(_.a)(l.mailItem,o&&"selected",!e.mail.read&&"unread","py-16 pl-0 pr-8 sm:pl-8 sm:pr-24")},r.a.createElement(W.a,{tabIndex:-1,disableRipple:!0,checked:o,onChange:function(){return t((a=e.mail.id,{type:h,mailId:a}));var a},onClick:function(e){return e.stopPropagation()}}),r.a.createElement("div",{className:"flex flex-1 flex-col relative overflow-hidden"},r.a.createElement("div",{className:"flex items-center justify-between px-16 pb-8"},r.a.createElement("div",{className:"flex items-center"},e.mail.from.avatar?r.a.createElement(F.a,{className:"mr-8",alt:e.mail.from.name,src:e.mail.from.avatar}):r.a.createElement(F.a,{className:Object(_.a)(l.avatar,"mr-8")},e.mail.from.name[0]),r.a.createElement(s.a,{variant:"subtitle1"},e.mail.from.name)),r.a.createElement(s.a,{variant:"subtitle1"},e.mail.time)),r.a.createElement("div",{className:"flex flex-col px-16 py-0"},r.a.createElement(s.a,{className:"truncate"},e.mail.subject),r.a.createElement(s.a,{color:"textSecondary",className:"truncate"},$.a.truncate(e.mail.message.replace(/<(?:.|\n)*?>/gm,""),{length:180}))),r.a.createElement("div",{className:"flex justify-end"},n&&e.mail.labels.map(function(e){return r.a.createElement(J,{className:"mr-4",title:$.a.find(n,{id:e}).title,color:$.a.find(n,{id:e}).color,key:e})}))))});var K=Object(u.h)(function(e){var t=Object(c.b)(),a=Object(c.c)(function(e){return e.mailApp.mails.entities}),i=Object(c.c)(function(e){return e.mailApp.mails.searchText}),u=Object(n.useState)(null),p=Object(o.a)(u,2),b=p[0],E=p[1];return Object(n.useEffect)(function(){t(function(e){var t=f.a.get("/api/mail-app/mails",{params:e});return function(a){return t.then(function(t){return a({type:d,routeParams:e,payload:t.data})})}}(e.match.params))},[t,e.match.params]),Object(n.useEffect)(function(){a&&E(function(){var e=Object.keys(a).map(function(e){return a[e]});return 0===i.length?e:l.C.filterArrayByString(e,i)}())},[a,i]),b?0===b.length?r.a.createElement(l.d,{delay:100},r.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full"},r.a.createElement(s.a,{color:"textSecondary",variant:"h5"},"There are no messages!"))):r.a.createElement(m.a,{className:"p-0"},r.a.createElement(l.e,{enter:{animation:"transition.slideUpBigIn"}},b.map(function(e){return r.a.createElement(X,{mail:e,key:e.id})}))):null}),Q=a(904),Z=a(462),ee=a(883);var te=Object(u.h)(function(e){var t=Object(c.b)(),a=Object(c.c)(function(e){return e.mailApp.mail}),i=Object(c.c)(function(e){return e.mailApp.labels}),m=Object(n.useState)(!1),u=Object(o.a)(m,2),p=u[0],d=u[1];return Object(n.useEffect)(function(){t(function(e){var t=f.a.get("/api/mail-app/mail",{params:e});return function(a){return t.then(function(t){return a({type:L,routeParams:e,payload:t.data})})}}(e.match.params))},[t,e.match.params]),a?r.a.createElement("div",{className:"p-16 sm:p-24"},r.a.createElement("div",{className:"flex items-center justify-between overflow-hidden"},r.a.createElement("div",{className:"flex flex-col"},r.a.createElement(l.d,{delay:100},r.a.createElement(s.a,{variant:"subtitle1",className:"flex"},a.subject)),i&&a.labels.length>0&&r.a.createElement("div",{className:"flex flex-wrap mt-8"},a.labels.map(function(e){return r.a.createElement(J,{className:"mt-4 mr-4",title:$.a.find(i,{id:e}).title,color:$.a.find(i,{id:e}).color,key:e})})))),r.a.createElement(Q.a,{className:"my-16"}),r.a.createElement(l.d,{animation:"transition.slideUpIn",delay:200},r.a.createElement("div",null,r.a.createElement("div",{className:"flex items-start justify-between"},r.a.createElement("div",{className:"flex items-center justify-start"},a.from.avatar?r.a.createElement(F.a,{className:"mr-8",alt:a.from.name,src:a.from.avatar}):r.a.createElement(F.a,{className:"mr-8"},a.from.name[0]),r.a.createElement("div",{className:"flex flex-col"},r.a.createElement("span",null,a.from.name),r.a.createElement(s.a,{component:"div",color:"textSecondary",variant:"body1",className:"flex items-center justify-start"},r.a.createElement("div",null,"to"),r.a.createElement("div",{className:"ml-4"},a.to[0].name)))),r.a.createElement(Z.a,null,r.a.createElement(ee.a,null,"more_vert"))),r.a.createElement("div",{className:"my-16"},r.a.createElement(s.a,{color:"primary",className:"cursor-pointer underline mb-8",onClick:function(){d(!p)}},p?r.a.createElement("span",null,"Hide Details"):r.a.createElement("span",null,"Show Details")),p&&r.a.createElement("div",{className:"flex"},r.a.createElement(s.a,{variant:"body2",className:"flex flex-col"},r.a.createElement("span",null,"From:"),r.a.createElement("span",null,"To:"),r.a.createElement("span",null,"Date:")),r.a.createElement(s.a,{variant:"body2",color:"textSecondary",className:"pl-4 flex flex-col"},r.a.createElement("span",null,a.from.email),r.a.createElement("span",null,a.to[0].email),r.a.createElement("span",null,a.time)))),r.a.createElement(s.a,{variant:"body2",dangerouslySetInnerHTML:{__html:a.message}}),r.a.createElement(Q.a,{className:"my-16"}),a.attachments&&r.a.createElement("div",null,r.a.createElement(s.a,{variant:"subtitle1",className:"mb-16"},r.a.createElement("span",null,"Attachments"),r.a.createElement("span",{className:"ml-4"},"(",a.attachments.length,")")),r.a.createElement("div",{className:"flex flex-wrap"},a.attachments.map(function(e){return r.a.createElement("div",{className:"w-192 pr-16 pb-16",key:e.fileName},r.a.createElement("img",{className:"w-full rounded-4",src:e.preview,alt:e.fileName}),r.a.createElement("div",{className:"flex flex-col"},r.a.createElement(s.a,{color:"primary",className:"underline cursor-pointer",onClick:function(e){return e.preventDefault()}},"View"),r.a.createElement(s.a,{color:"primary",className:"underline cursor-pointer",onClick:function(e){return e.preventDefault()}},"Download"),r.a.createElement(s.a,null,"(",e.size,")")))})))))):null}),ae=a(307),ne=a(884);function re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function le(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?re(a,!0).forEach(function(t){Object(S.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):re(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ce=function(e){var t=Object(c.b)(),a=Object(c.c)(function(e){return e.mailApp.mails.selectedMailIds}),l=Object(c.c)(function(e){return e.mailApp.mails.entities}),i=Object(c.c)(function(e){return e.mailApp.labels}),s=Object(c.c)(function(e){return e.mailApp.folders}),m=Object(n.useState)({selectMenu:null,foldersMenu:null,labelsMenu:null}),u=Object(o.a)(m,2),p=u[0],d=u[1];function b(e,t){d(le({},t,Object(S.a)({},t,e.currentTarget)))}function E(e,t){d(le({},t,Object(S.a)({},t,null)))}return r.a.createElement("div",{className:"flex flex-1 items-center sm:px-8"},r.a.createElement(W.a,{onChange:function(e){e.target.checked?t(w()):t(N())},checked:a.length===Object.keys(l).length&&a.length>0,indeterminate:a.length!==Object.keys(l).length&&a.length>0}),r.a.createElement(Z.a,{className:"w-24","aria-label":"More","aria-owns":p.select?"select-menu":null,"aria-haspopup":"true",onClick:function(e){return b(e,"select")}},r.a.createElement(ee.a,null,"arrow_drop_down")),r.a.createElement(ae.a,{id:"select-menu",anchorEl:p.select,open:Boolean(p.select),onClose:function(e){return E(0,"select")}},r.a.createElement(ne.a,{onClick:function(e){t(w()),E(0,"select")}},"All"),r.a.createElement(ne.a,{onClick:function(e){t(N()),E(0,"select")}},"None"),r.a.createElement(ne.a,{onClick:function(e){t(A("read",!0)),E(0,"select")}},"Read"),r.a.createElement(ne.a,{onClick:function(e){t(A("read",!1)),E(0,"select")}},"Unread"),r.a.createElement(ne.a,{onClick:function(e){t(A("starred",!0)),E(0,"select")}},"Starred"),r.a.createElement(ne.a,{onClick:function(e){t(A("starred",!1)),E(0,"select")}},"Unstarred"),r.a.createElement(ne.a,{onClick:function(e){t(A("important",!0)),E(0,"select")}},"Important"),r.a.createElement(ne.a,{onClick:function(e){t(A("important",!1)),E(0,"select")}},"Unimportant")),a.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"border-r-1 h-48 w-1 mx-12 my-0"}),r.a.createElement(Z.a,{onClick:function(e){return t(P(4))},"aria-label":"Delete"},r.a.createElement(ee.a,null,"delete")),r.a.createElement(Z.a,{"aria-label":"More","aria-owns":p.folders?"folders-menu":null,"aria-haspopup":"true",onClick:function(e){return b(e,"folders")}},r.a.createElement(ee.a,null,"folder")),r.a.createElement(ae.a,{id:"folders-menu",anchorEl:p.folders,open:Boolean(p.folders),onClose:function(e){return E(0,"folders")}},s.length>0&&s.map(function(e){return r.a.createElement(ne.a,{onClick:function(a){t(P(e.id)),E(0,"folders")},key:e.id},e.title)})),r.a.createElement(Z.a,{"aria-label":"More","aria-owns":p.labels?"labels-menu":null,"aria-haspopup":"true",onClick:function(e){return b(e,"labels")}},r.a.createElement(ee.a,null,"label")),r.a.createElement(ae.a,{id:"folders-menu",anchorEl:p.labels,open:Boolean(p.labels),onClose:function(e){return E(0,"labels")}},i.length>0&&i.map(function(e){return r.a.createElement(ne.a,{onClick:function(a){var n;t((n=e.id,function(e,t){var a=t().mailApp.mails.selectedMailIds;return f.a.post("/api/mail-app/toggle-label",{selectedMailIds:a,labelId:n}).then(function(t){return e({type:O}),e(x())})})),E(0,"labels")},key:e.id},e.title)}))))};function ie(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var oe=a(1270);var se=Object(u.h)(function(e){var t=Object(c.b)(),a=Object(c.c)(function(e){return e.mailApp.mail}),n=oe.compile(e.match.path),i=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ie(a,!0).forEach(function(t){Object(S.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ie(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e.match.params);delete i.mailId;var o=n(i);return a?r.a.createElement("div",{className:"flex flex-1 items-center justify-between overflow-hidden sm:px-16"},r.a.createElement(Z.a,{onClick:function(){return e.history.push(o)}},r.a.createElement(ee.a,null,"arrow_back")),r.a.createElement("div",{className:"flex items-center justify-start","aria-label":"Toggle star"},r.a.createElement(l.d,{animation:"transition.expandIn",delay:100},r.a.createElement(Z.a,{onClick:function(){return t(function(e){var t=k({},e,{starred:!e.starred});return function(e){return e({type:M}),e(D(t))}}(a))}},a.starred?r.a.createElement(ee.a,null,"star"):r.a.createElement(ee.a,null,"star_border"))),r.a.createElement(l.d,{animation:"transition.expandIn",delay:100},r.a.createElement(Z.a,{onClick:function(){return t(function(e){var t=k({},e,{important:!e.important});return function(e){return e({type:T}),e(D(t))}}(a))}},a.important?r.a.createElement(ee.a,null,"label"):r.a.createElement(ee.a,null,"label_outline"))))):null}),me=a(140),ue=a(895),pe=a(309),fe=a(924);var de=function(e){var t=Object(c.b)(),a=Object(c.c)(function(e){return e.mailApp.mails.searchText}),n=Object(c.c)(function(e){return e.fuse.settings.mainTheme});return r.a.createElement(fe.a,{theme:n},r.a.createElement("div",{className:"flex flex-1"},r.a.createElement(me.a,{className:"flex items-center w-full h-48 sm:h-56 p-16 pl-4 md:pl-16 rounded-8 ",elevation:1},r.a.createElement(ue.a,{lgUp:!0},r.a.createElement(Z.a,{onClick:function(t){return e.pageLayout.current.toggleLeftSidebar()},"aria-label":"open left sidebar"},r.a.createElement(ee.a,null,"menu"))),r.a.createElement(ee.a,{color:"action"},"search"),r.a.createElement(pe.a,{placeholder:"Search",className:"pl-16",disableUnderline:!0,fullWidth:!0,value:a,inputProps:{"aria-label":"Search"},onChange:function(e){return t({type:j,searchText:e.target.value.toLowerCase()})}}))))},be=a(889),Ee={creapond:"johndoe@creapond.com",withinpixels:"johndoe@withinpixels.com"};var ve=function(e){var t=Object(n.useState)("creapond"),a=Object(o.a)(t,2),c=a[0],i=a[1];return r.a.createElement("div",{className:"flex flex-col justify-center h-full p-24"},r.a.createElement("div",{className:"flex items-center flex-1"},r.a.createElement(l.d,{animation:"transition.expandIn",delay:300},r.a.createElement(ee.a,{className:"mr-16 text-32"},"mail")),r.a.createElement(l.d,{animation:"transition.slideLeftIn",delay:300},r.a.createElement("span",{className:"text-24"},"Mailbox"))),r.a.createElement(l.d,{animation:"transition.slideUpIn",delay:300},r.a.createElement(be.a,{id:"account-selection",select:!0,label:c,value:c,onChange:function(e){i(e.target.value)},placeholder:"Select Account",margin:"normal"},Object.keys(Ee).map(function(e,t){return r.a.createElement(ne.a,{key:e,value:e},Ee[e])}))))},he=a(903),ye=a(886),ge=a(892),Oe=a(911),je=a(908),xe=a(893),we=a(986),Ne=a(992),Ae=a(128),Pe=Object(z.a)({root:{fontSize:13,backgroundColor:"rgba(0, 0, 0, 0.08)",border:"1px solid rgba(0, 0, 0, 0.16)",paddingLeft:16,marginBottom:8,borderRadius:2,display:"flex",justifyContent:"space-between",alignItems:"center"},filename:{fontWeight:600},size:{marginLeft:8,fontWeight:300}});var Se=function(e){var t=Pe();return r.a.createElement("div",{className:Object(_.a)(t.root,e.className)},r.a.createElement("div",{className:"flex"},r.a.createElement(s.a,{variant:"caption",className:t.filename},e.fileName),r.a.createElement(s.a,{variant:"caption",className:t.size},"(",e.size,")")),r.a.createElement(Z.a,null,r.a.createElement(ee.a,{className:"text-16"},"close")))};var Ie=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(Ae.b)({from:"johndoe@creapond.com",to:"",cc:"",bcc:"",subject:"",message:""}),i=c.form,m=c.handleChange;return r.a.createElement("div",{className:"p-24"},r.a.createElement(ge.a,{variant:"contained",color:"primary",className:"w-full",onClick:function(){l(!0)}},"COMPOSE"),r.a.createElement(Oe.a,{open:a,onClose:function(){l(!1)},"aria-labelledby":"form-dialog-title"},r.a.createElement(je.a,{position:"static"},r.a.createElement(xe.a,{className:"flex w-full"},r.a.createElement(s.a,{variant:"subtitle1",color:"inherit"},"New Message"))),r.a.createElement("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),l(!1)},className:"flex flex-col"},r.a.createElement(we.a,{classes:{root:"p-16 pb-0 sm:p-24 sm:pb-0"}},r.a.createElement(be.a,{className:"mt-8 mb-16",label:"From",id:"from",name:"from",value:i.from,onChange:m,variant:"outlined",fullWidth:!0,disabled:!0}),r.a.createElement(be.a,{className:"mt-8 mb-16",label:"To",autoFocus:!0,id:"to",name:"to",value:i.to,onChange:m,variant:"outlined",fullWidth:!0,required:!0}),r.a.createElement(be.a,{className:"mt-8 mb-16",label:"Cc",id:"cc",name:"cc",value:i.cc,onChange:m,variant:"outlined",fullWidth:!0}),r.a.createElement(be.a,{className:"mt-8 mb-16",label:"Bcc",id:"bcc",name:"bcc",value:i.bcc,onChange:m,variant:"outlined",fullWidth:!0}),r.a.createElement(be.a,{className:"mt-8 mb-16",label:"Subject",id:"subject",name:"subject",value:i.subject,onChange:m,variant:"outlined",fullWidth:!0}),r.a.createElement(be.a,{className:"mt-8 mb-16",id:"message",name:"message",onChange:m,value:i.message,label:"Message",type:"text",multiline:!0,rows:5,variant:"outlined",fullWidth:!0}),r.a.createElement("div",{className:"pt-8"},r.a.createElement(Se,{fileName:"attachment-2.doc",size:"12 kb"}),r.a.createElement(Se,{fileName:"attachment-1.jpg",size:"350 kb"}))),r.a.createElement(Ne.a,{className:"justify-between pl-8 sm:pl-16"},r.a.createElement("div",null,r.a.createElement(ge.a,{variant:"contained",color:"primary",type:"submit"},"Send"),r.a.createElement(Z.a,null,r.a.createElement(ee.a,null,"attach_file"))),r.a.createElement(Z.a,{onClick:function(){l(!1)}},r.a.createElement(ee.a,null,"delete"))))))},ke=Object(z.a)(function(e){return{listItem:{color:"inherit!important",textDecoration:"none!important",height:40,width:"calc(100% - 16px)",borderRadius:"0 20px 20px 0",paddingLeft:24,paddingRight:12,"&.active":{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText+"!important",pointerEvents:"none","& .list-item-icon":{color:"inherit"}},"& .list-item-icon":{fontSize:16,width:16,height:16,marginRight:16}}}});var Le=function(e){var t=Object(c.c)(function(e){return e.mailApp.folders}),a=Object(c.c)(function(e){return e.mailApp.labels}),n=Object(c.c)(function(e){return e.mailApp.filters}),i=ke();return r.a.createElement(l.d,{animation:"transition.slideUpIn",delay:400},r.a.createElement("div",{className:"flex-auto border-l-1"},r.a.createElement(Ie,null),r.a.createElement("div",null,r.a.createElement(m.a,null,r.a.createElement(he.a,{className:i.listSubheader,disableSticky:!0},"FOLDERS"),t.length>0&&t.map(function(e){return r.a.createElement(U.a,{button:!0,component:l.D,to:"/apps/mail/"+e.handle,key:e.id,activeClassName:"active",className:i.listItem},r.a.createElement(ee.a,{className:"list-item-icon",color:"action"},e.icon),r.a.createElement(ye.a,{primary:e.title,disableTypography:!0}))})),r.a.createElement(m.a,null,r.a.createElement(he.a,{className:i.listSubheader,disableSticky:!0},"FILTERS"),n.length>0&&n.map(function(e){return r.a.createElement(U.a,{button:!0,component:l.D,to:"/apps/mail/filter/"+e.handle,activeClassName:"active",className:i.listItem,key:e.id},r.a.createElement(ee.a,{className:"list-item-icon",color:"action"},e.icon),r.a.createElement(ye.a,{primary:e.title,disableTypography:!0}))})),r.a.createElement(m.a,null,r.a.createElement(he.a,{className:"pr-24 pl-24",disableSticky:!0},"LABELS"),a&&a.map(function(e){return r.a.createElement(U.a,{button:!0,component:l.D,to:"/apps/mail/label/"+e.handle,key:e.id,className:i.listItem},r.a.createElement(ee.a,{className:"list-item-icon",style:{color:e.color},color:"action"},"label"),r.a.createElement(ye.a,{primary:e.title,disableTypography:!0}))})))))},Ce=a(46),Me=a(10);function Te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function De(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Te(a,!0).forEach(function(t){Object(S.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Te(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Re={entities:[],routeParams:{},selectedMailIds:[],searchText:""},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return De({},e,{entities:$.a.keyBy(t.payload,"id"),searchText:"",routeParams:t.routeParams});case b:return De({},e,{entities:$.a.keyBy(t.payload,"id")});case E:var a=Object.keys(e.entities).map(function(t){return e.entities[t]}),n=a.map(function(e){return e.id});return De({},e,{selectedMailIds:n});case v:return De({},e,{selectedMailIds:[]});case y:var r=t.payload,l=Object.keys(e.entities).map(function(t){return e.entities[t]}),c=l.filter(function(e){return e[r.parameter]===r.value}).map(function(e){return e.id});return De({},e,{selectedMailIds:c});case h:var i=t.mailId,o=Object(Me.a)(e.selectedMailIds);return o=void 0!==o.find(function(e){return e===i})?o.filter(function(e){return e!==i}):[].concat(Object(Me.a)(o),[i]),De({},e,{selectedMailIds:o});case j:return De({},e,{searchText:t.searchText});default:return e}};function Ge(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Ue(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ge(a,!0).forEach(function(t){Object(S.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ge(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"[MAIL APP] GET MAIL":case C:return Ue({},t.payload);default:return e}},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(Me.a)(t.payload);default:return e}},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(Me.a)(t.payload);default:return e}},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(Me.a)(t.payload);default:return e}},$e=Object(Ce.d)({mails:Be,mail:We,folders:Fe,labels:ze,filters:_e});t.default=Object(i.a)("mailApp",$e)(function(e){var t=Object(c.b)(),a=Object(n.useRef)(null);return Object(n.useEffect)(function(){t(function(){var e=f.a.get("/api/mail-app/filters");return function(t){return e.then(function(e){return t({type:G,payload:e.data})})}}()),t(function(){var e=f.a.get("/api/mail-app/folders");return function(t){return e.then(function(e){return t({type:R,payload:e.data})})}}()),t(function(){var e=f.a.get("/api/mail-app/labels");return function(t){return e.then(function(e){return t({type:B,payload:e.data})})}}())},[t]),r.a.createElement(l.s,{classes:{root:"w-full",content:"flex flex-col",header:"items-center min-h-72 h-72 sm:h-136 sm:min-h-136"},header:r.a.createElement(de,{pageLayout:a}),contentToolbar:e.match.params.mailId?r.a.createElement(se,null):r.a.createElement(ce,null),content:e.match.params.mailId?r.a.createElement(te,null):r.a.createElement(K,null),leftSidebarHeader:r.a.createElement(ve,null),leftSidebarContent:r.a.createElement(Le,null),ref:a,innerScroll:!0})})},986:function(e,t,a){"use strict";var n=a(1),r=a(6),l=a(0),c=a.n(l),i=(a(2),a(3)),o=a(9),s=c.a.forwardRef(function(e,t){var a=e.classes,l=e.className,o=e.dividers,s=void 0!==o&&o,m=Object(r.a)(e,["classes","className","dividers"]);return c.a.createElement("div",Object(n.a)({className:Object(i.a)(a.root,l,s&&a.dividers),ref:t},m))});t.a=Object(o.a)(function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}},{name:"MuiDialogContent"})(s)},992:function(e,t,a){"use strict";var n=a(1),r=a(6),l=a(0),c=a.n(l),i=(a(2),a(3)),o=a(9),s=c.a.forwardRef(function(e,t){var a=e.disableSpacing,l=void 0!==a&&a,o=e.classes,s=e.className,m=Object(r.a)(e,["disableSpacing","classes","className"]);return c.a.createElement("div",Object(n.a)({className:Object(i.a)(o.root,s,!l&&o.spacing),ref:t},m))});t.a=Object(o.a)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > * + *":{marginLeft:8}}},{name:"MuiDialogActions"})(s)}}]);